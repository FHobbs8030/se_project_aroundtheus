"use strict";(self.webpackChunktripleten=self.webpackChunktripleten||[]).push([[792],{292:(t,e,n)=>{function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function r(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,a(o.key),o)}}function a(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}var i=function(){return t=function t(e,n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._data=e,this._template=document.querySelector(n).content,this._handleImageClick=o},(e=[{key:"_getTemplate",value:function(){var t=this._template.cloneNode(!0);return this._cardElement=t,this._cardImage=t.querySelector(".cards__image"),this._cardTitle=t.querySelector(".cards__title"),this._deleteButton=t.querySelector(".cards__delete-button"),this._heartButton=t.querySelector(".cards__heart"),t}},{key:"_setEventListeners",value:function(){var t=this;this._deleteButton.addEventListener("click",(function(e){e.stopPropagation();var n=t._deleteButton.closest(".cards__card");n&&n.remove()})),this._heartButton.addEventListener("click",(function(){t._handleHeartButton(t._heartButton)})),this._cardImage.addEventListener("click",(function(){t._handleImageClick(t._data)}))}},{key:"generateCard",value:function(){return this._getTemplate(),this._setEventListeners(),this._cardImage.src=this._data.link,this._cardImage.alt=this._data.name,this._cardTitle.textContent=this._data.name,this._cardElement}},{key:"getElement",value:function(){return this.generateCard()}},{key:"_handleHeartButton",value:function(t){t.classList.toggle("cards__heart_active")}}])&&r(t.prototype,e),n&&r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function l(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,u(o.key),o)}}function u(t){var e=function(t,e){if("object"!=s(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=s(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==s(e)?e:e+""}var c=function(){return t=function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),console.log("FormValidator initialized with form:",n.id),this._settings=e,this._formElement=n,this._inputs=Array.from(n.querySelectorAll(e.inputSelector)),this._submitButton=n.querySelector(e.saveButtonSelector)},(e=[{key:"_checkInputValidity",value:function(t){var e=this._formElement.querySelector("#".concat(t.id,"-error"));t.validity.valid?this._hideInputError(t,e):this._showInputError(t,e)}},{key:"_showInputError",value:function(t,e){e.textContent=t.validationMessage,t.classList.add(this._settings.inputErrorClass),e.classList.add(this._settings.errorClass)}},{key:"_hideInputError",value:function(t,e){e.textContent="",t.classList.remove(this._settings.inputErrorClass),e.classList.remove(this._settings.errorClass)}},{key:"toggleSubmitButtonState",value:function(){var t=this._inputs.every((function(t){return t.validity.valid}));console.log("Form validity state:",t,"for form:",this._formElement.id),t?(this._submitButton.disabled=!1,this._submitButton.classList.remove(this._settings.inactiveButtonClass)):(this._submitButton.disabled=!0,this._submitButton.classList.add(this._settings.inactiveButtonClass))}},{key:"_setEventListeners",value:function(){var t=this;this._inputs.forEach((function(e){e.addEventListener("input",(function(){t._checkInputValidity(e),t.toggleSubmitButtonState()}))}))}},{key:"enableValidation",value:function(){console.log("Form validation enabled for:",this._formElement.id),this._setEventListeners(),this.toggleSubmitButtonState()}},{key:"resetValidation",value:function(){var t=this;this._inputs.forEach((function(e){t._hideInputError(e,t._formElement.querySelector("#".concat(e.id,"-error")))})),this.toggleSubmitButtonState()}}])&&l(t.prototype,e),n&&l(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();const d=n.p+"assets/4e8e0a1d604782a0dff8.svg",m=n.p+"assets/8ec5e3f3631a809fd255.jpg";console.log("Starting the index.js file..."),document.querySelector(".header__logo").src=d,document.querySelector(".profile__image").src=m;var f=document.querySelector("#cards-container"),p=document.getElementById("add-modal"),_=document.forms["add-form"],v=_.querySelector("#place"),y=_.querySelector("#link"),h=document.getElementById("edit-modal"),g=document.querySelector("#name"),b=document.querySelector("#about"),S=document.querySelector(".profile__name"),k=document.querySelector(".profile__about"),E=document.querySelector(".profile__add-button"),w=document.querySelector(".profile__edit-button"),L=document.querySelector(".modal__image"),B=document.querySelector(".modal__caption"),q=document.querySelector("#image-modal");function C(t){L.src=t.link,L.alt=t.name,B.textContent=t.name,x(q)}w.addEventListener("click",(function(){g.value=S.textContent,b.value=k.textContent,x(h)}));var j,I={};function P(t){t.classList.remove("modal_open"),t.classList.add("modal_hidden"),document.removeEventListener("keydown",V),t===p&&_.reset()}function x(t){t.classList.remove("modal_hidden"),t.classList.add("modal_open"),document.addEventListener("keydown",V)}function V(t){if("Escape"===t.key){var e=document.querySelector(".modal_open");e&&P(e)}}function T(t){return new i(t,"#card-template",C).getElement()}j={formSelector:".modal__form",inputSelector:".modal__input",saveButtonSelector:".modal__save-button",inactiveButtonClass:"modal__save-button_disabled",inputErrorClass:"modal__input-type-error",errorClass:"modal__input-error_visible"},Array.from(document.querySelectorAll(j.formSelector)).forEach((function(t){var e=new c(j,t),n=t.getAttribute("name");I[n]=e,e.enableValidation()})),_.addEventListener("submit",(function(t){t.preventDefault();var e=T({name:v.value,link:y.value,alt:v.value});f.prepend(e),_.reset(),I["card-form"].toggleSubmitButtonState(),P(p)})),document.querySelector("#edit-form").addEventListener("submit",(function(t){t.preventDefault(),S.textContent=g.value,k.textContent=b.value,P(h)})),[{name:"Yosemite Valley",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/yosemite.jpg",alt:"Yosemite Valley"},{name:"Lake Louise",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/lake-louise.jpg",alt:"Lake Louise"},{name:"Bald Mountains",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/bald-mountains.jpg",alt:"Bald Mountains"},{name:"Latemar",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/latemar.jpg",alt:"Latemar"},{name:"Vanoise National Park",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/vanoise.jpg",alt:"Vanoise National Park"},{name:"Lago di Braies",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/lago.jpg",alt:"Lago di Braies"}].forEach((function(t){var e=T(t);f.append(e)})),E.addEventListener("click",(function(){x(p)})),document.querySelectorAll(".modal__close-button").forEach((function(t){t.addEventListener("click",(function(){P(t.closest(".modal"))}))})),document.querySelectorAll(".modal").forEach((function(t){t.addEventListener("click",(function(e){e.target===t&&P(t)}))})),console.log(" index.js File Loaded")}},t=>{var e;e=292,t(t.s=e)}]);