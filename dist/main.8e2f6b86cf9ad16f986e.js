(()=>{"use strict";var e="";class t{constructor(e,t,o){this._data=e,this._template=document.querySelector(t).content,this._handleImageClick=o}_getTemplate(){const e=this._template.cloneNode(!0);return this._cardElement=e,this._cardImage=e.querySelector(".cards__image"),this._cardTitle=e.querySelector(".cards__title"),this._deleteButton=e.querySelector(".cards__delete-button"),this._heartButton=e.querySelector(".cards__heart"),e}_setEventListeners(){this._deleteButton.addEventListener("click",(e=>{e.stopPropagation();const t=this._deleteButton.closest(".cards__card");t&&t.remove()})),this._heartButton.addEventListener("click",(()=>{this._handleHeartButton(this._heartButton)})),this._cardImage.addEventListener("click",(()=>{this._handleImageClick(this._data)}))}generateCard(){return this._getTemplate(),this._setEventListeners(),this._cardImage.src=this._data.link,this._cardImage.alt=this._data.name,this._cardTitle.textContent=this._data.name,this._cardElement}getElement(){return this.generateCard()}_handleHeartButton(e){e.classList.toggle("cards__heart_active")}}class o{constructor(e,t){console.log("FormValidator initialized with form:",t.id),this._settings=e,this._formElement=t,this._inputs=Array.from(t.querySelectorAll(e.inputSelector)),this._submitButton=t.querySelector(e.saveButtonSelector)}_checkInputValidity(e){const t=this._formElement.querySelector(`#${e.id}-error`);e.validity.valid?this._hideInputError(e,t):this._showInputError(e,t)}_showInputError(e,t){t.textContent=e.validationMessage,e.classList.add(this._settings.inputErrorClass),t.classList.add(this._settings.errorClass)}_hideInputError(e,t){t.textContent="",e.classList.remove(this._settings.inputErrorClass),t.classList.remove(this._settings.errorClass)}toggleSubmitButtonState(){const e=this._inputs.every((e=>e.validity.valid));console.log("Form validity state:",e,"for form:",this._formElement.id),e?(this._submitButton.disabled=!1,this._submitButton.classList.remove(this._settings.inactiveButtonClass)):(this._submitButton.disabled=!0,this._submitButton.classList.add(this._settings.inactiveButtonClass))}_setEventListeners(){this._inputs.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this.toggleSubmitButtonState()}))}))}enableValidation(){console.log("Form validation enabled for:",this._formElement.id),this._setEventListeners(),this.toggleSubmitButtonState()}resetValidation(){this._inputs.forEach((e=>{this._hideInputError(e,this._formElement.querySelector(`#${e.id}-error`))})),this.toggleSubmitButtonState()}}const n=e+"8ec5e3f3631a809fd255.jpg",a=e+"4e8e0a1d604782a0dff8.svg";console.log("Starting the index.js file..."),console.log("DOM Content Loading..."),document.querySelector(".header__logo").src=a,document.querySelector(".profile__image").src=n,document.querySelector(".header__logo").addEventListener("load",(()=>{console.log("Logo image loaded successfully")})),document.querySelector(".profile__image").addEventListener("load",(()=>{console.log("Profile image loaded successfully")}));const s=[{name:"Yosemite Valley",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/yosemite.jpg",alt:"Yosemite Valley"},{name:"Lake Louise",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/lake-louise.jpg",alt:"Lake Louise"},{name:"Bald Mountains",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/bald-mountains.jpg",alt:"Bald Mountains"},{name:"Latemar",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/latemar.jpg",alt:"Latemar"},{name:"Vanoise National Park",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/vanoise.jpg",alt:"Vanoise National Park"},{name:"Lago di Braies",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/lago.jpg",alt:"Lago di Braies"}],r=document.querySelector("#cards-container"),i=document.getElementById("add-modal"),l=document.forms["add-form"],c=l.querySelector("#place"),d=l.querySelector("#link"),u=document.getElementById("edit-modal"),m=document.querySelector("#name"),_=document.querySelector("#about"),h=document.querySelector(".profile__name"),g=document.querySelector(".profile__about"),p=document.querySelector(".profile__add-button"),v=document.querySelector(".profile__edit-button"),f=document.querySelector(".modal__image"),y=document.querySelector(".modal__caption"),E=document.querySelector("#image-modal");function S(e){f.src=e.link,f.alt=e.name,y.textContent=e.name,k(E)}v.addEventListener("click",(()=>{m.value=h.textContent,_.value=g.textContent,k(u)}));const L={};var q;function b(e){e.classList.remove("modal_open"),e.classList.add("modal_hidden"),document.removeEventListener("keydown",B),e===i&&l.reset()}function k(e){e.classList.remove("modal_hidden"),e.classList.add("modal_open"),document.addEventListener("keydown",B)}function B(e){if("Escape"===e.key){const e=document.querySelector(".modal_open");e&&b(e)}}function w(e){const o=new t(e,"#card-template",S);return o.getElement(),o.getElement()}q={formSelector:".modal__form",inputSelector:".modal__input",saveButtonSelector:".modal__save-button",inactiveButtonClass:"modal__save-button_disabled",inputErrorClass:"modal__input-type-error",errorClass:"modal__input-error_visible"},Array.from(document.querySelectorAll(q.formSelector)).forEach((e=>{const t=new o(q,e),n=e.getAttribute("name");L[n]=t,t.enableValidation()})),l.addEventListener("submit",(e=>{e.preventDefault();const t=w({name:c.value,link:d.value,alt:c.value});r.prepend(t),l.reset(),L["card-form"].toggleSubmitButtonState(),b(i)})),document.querySelector("#edit-form").addEventListener("submit",(e=>{e.preventDefault(),h.textContent=m.value,g.textContent=_.value,b(u)})),p.addEventListener("click",(()=>{k(i)})),document.querySelectorAll(".modal__close-button").forEach((e=>{e.addEventListener("click",(()=>{b(e.closest(".modal"))}))})),document.querySelectorAll(".modal").forEach((e=>{e.addEventListener("click",(t=>{t.target===e&&b(e)}))})),document.addEventListener("DOMContentLoaded",(()=>{s.forEach((e=>{const t=w(e);r.append(t)}))})),window.addEventListener("load",(()=>{console.log("Window fully loaded - All resources are loaded")})),console.log("index.js File Loaded")})();