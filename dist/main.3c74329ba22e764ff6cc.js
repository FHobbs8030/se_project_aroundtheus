(()=>{"use strict";var e="";const t={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let n;const o=new Uint8Array(16),s=[];for(let e=0;e<256;++e)s.push((e+256).toString(16).slice(1));const i=function(e,i,r){if(t.randomUUID&&!i&&!e)return t.randomUUID();const a=(e=e||{}).random??e.rng?.()??function(){if(!n){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");n=crypto.getRandomValues.bind(crypto)}return n(o)}();if(a.length<16)throw new Error("Random bytes length must be >= 16");if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,i){if((r=r||0)<0||r+16>i.length)throw new RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);for(let e=0;e<16;++e)i[r+e]=a[e];return i}return function(e,t=0){return(s[e[t+0]]+s[e[t+1]]+s[e[t+2]]+s[e[t+3]]+"-"+s[e[t+4]]+s[e[t+5]]+"-"+s[e[t+6]]+s[e[t+7]]+"-"+s[e[t+8]]+s[e[t+9]]+"-"+s[e[t+10]]+s[e[t+11]]+s[e[t+12]]+s[e[t+13]]+s[e[t+14]]+s[e[t+15]]).toLowerCase()}(a)},r=[{name:"Yosemite Valley",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/yosemite.jpg",alt:"Yosemite Valley"},{name:"Lake Louise",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/lake-louise.jpg",alt:"Lake Louise"},{name:"Bald Mountains",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/bald-mountains.jpg",alt:"Bald Mountains"},{name:"Latemar",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/latemar.jpg",alt:"Latemar"},{name:"Vanoise National Park",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/vanoise.jpg",alt:"Vanoise National Park"},{name:"Lago di Braies",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/lago.jpg",alt:"Lago di Braies"}];class a{constructor(e){this._popup=document.querySelector(e),this._handleEscClose=this._handleEscClose.bind(this)}open(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}close(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}_handleEscClose(e){"Escape"===e.key&&this.close()}setEventListeners(){this._popup.addEventListener("click",(e=>{(e.target.classList.contains("popup")||e.target.classList.contains("popup__close-button"))&&this.close()}))}}class l extends a{constructor(e,t){super(e),this._handleFormSubmit=t,this._form=this._popup.querySelector(".popup__form"),this._inputList=Array.from(this._form.querySelectorAll(".popup__input"))}_getInputValues(){const e={};return this._inputList.forEach((t=>{e[t.name]=t.value})),e}setEventListeners(){super.setEventListeners(),this._form.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit(this._getInputValues())}))}close(){super.close(),this._form.reset()}}class c{constructor(e,t,n){this._data=e,this._templateSelector=t,this._handleCardClick=n}_getTemplate(){return document.querySelector(this._templateSelector).content.querySelector(".card").cloneNode(!0)}generateCard(){return this._element=this._getTemplate(),this._cardImage=this._element.querySelector(".card__image"),this._cardTitle=this._element.querySelector(".card__title"),this._likeButton=this._element.querySelector(".card__heart"),this._deleteButton=this._element.querySelector(".card__delete-button"),this._cardImage.src=this._data.link,this._cardImage.alt=this._data.name,this._cardTitle.textContent=this._data.name,this._setEventListeners(),this._toggleDeleteButtonVisibility(),this._element}_handleDeleteClick(){this._element.remove()}_toggleDeleteButtonVisibility(){this._isCardLiked()?this._deleteButton.classList.add("card__delete-button_hidden"):this._deleteButton.classList.remove("card__delete-button_hidden")}_handleLikeClick(){this._likeButton.classList.toggle("card__heart_active"),this._toggleDeleteButtonVisibility()}_isCardLiked(){return this._likeButton.classList.contains("card__heart_active")}_setEventListeners(){this._cardImage.addEventListener("click",(()=>{this._handleCardClick(this._data)})),this._likeButton.addEventListener("click",(()=>{this._handleLikeClick()})),this._deleteButton.addEventListener("click",(()=>{this._handleDeleteClick()}))}}class u{constructor(e,t){this._config=e,this._formElement=t,this._inputList=Array.from(this._formElement.querySelectorAll(this._config.inputSelector)),this._buttonElement=this._formElement.querySelector(this._config.submitButtonSelector)}_showInputError(e,t){const n=this._formElement.querySelector(`#${e.id}-error`);e.classList.add(this._config.inputErrorClass),n.textContent=t,n.classList.add(this._config.errorClass)}_hideInputError(e){const t=this._formElement.querySelector(`#${e.id}-error`);e.classList.remove(this._config.inputErrorClass),t.classList.remove(this._config.errorClass),t.textContent=""}_checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)}_hasInvalidInput(){return this._inputList.some((e=>!e.validity.valid))}_toggleButtonState(){this._hasInvalidInput()?(this._buttonElement.disabled=!0,this._buttonElement.classList.add(this._config.inactiveButtonClass)):(this._buttonElement.disabled=!1,this._buttonElement.classList.remove(this._config.inactiveButtonClass))}_setEventListeners(){this._toggleButtonState(),this._inputList.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this._toggleButtonState()}))}))}enableValidation(){this._formElement.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()}resetValidation(){this._inputList.forEach((e=>{this._hideInputError(e)})),this._toggleButtonState()}}const d=e+"8ec5e3f3631a809fd255.jpg",p=e+"4e8e0a1d604782a0dff8.svg";document.querySelector(".header__logo").src=p,document.querySelector(".profile__image").src=d,document.querySelector(".header__logo").addEventListener("load",(()=>{})),document.querySelector(".profile__image").addEventListener("load",(()=>{}));const _=document.querySelector("#cards-container"),h=(document.getElementById("add-popup"),document.forms["add-form"]),m=(h.querySelector("#place"),h.querySelector("#link"),document.getElementById("edit-popup"),document.querySelector("#name")),g=document.querySelector("#about"),f=document.querySelector(".profile__name"),y=document.querySelector(".profile__about"),E=document.querySelector(".profile__add-button"),L=document.querySelector(".profile__edit-button"),v=new class extends a{constructor(e){super(e),this._image=this._popup.querySelector(".popup__image"),this._caption=this._popup.querySelector(".popup__caption")}open(e){this._image.src=e.link,this._image.alt=e.name,this._caption.textContent=e.name,super.open()}}("#image-popup"),S=new l("#edit-popup",(function(e){f.textContent=e.name,y.textContent=e.about,S.close()})),b=new l("#add-popup",(function(e){const t=q({name:e.place,link:e.link,alt:e.place,id:i()});_.prepend(t),b.close()}));function k(e){v.open(e)}v.setEventListeners(),S.setEventListeners(),b.setEventListeners(),L.addEventListener("click",(()=>{m.value=f.textContent,g.value=y.textContent,S.open()}));const w={};var C;function q(e){return new c(e,"#card-template",k).generateCard()}C={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__save-button",inactiveButtonClass:"popup__save-button_disabled",inputErrorClass:"popup__input-type-error",errorClass:"popup__input-error_visible"},Array.from(document.querySelectorAll(C.formSelector)).forEach((e=>{const t=new u(C,e),n=e.getAttribute("name");w[n]=t,t.enableValidation()})),E.addEventListener("click",(()=>{b.open()})),document.addEventListener("DOMContentLoaded",(()=>{r.forEach((e=>{const t=q(e);_.append(t)}))})),window.addEventListener("load",(()=>{}))})();